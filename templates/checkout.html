<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <!--Page Title-->
    <title>Namari - Free Landing Page Template</title>

    <!--Meta Keywords and Description-->
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!--Favicon-->
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}" title="Favicon"/>


    <!--=============== REMIX ICONS ===============-->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">



    <!-- Main CSS Files -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/product.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/checkout.css') }}">



    <!-- Namari Color CSS -->

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/namari-color.css') }}">

    <!--Icon Fonts - Font Awesome Icons-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
     <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/font-awesome.min.css') }}">

    <!-- Animate CSS-->

     <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/animate.css') }}">
    <!--Google Webfonts-->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
</head>
<body>





<!-- Preloader -->
<div id="preloader">
    <div id="status" class="la-ball-triangle-path">
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>
<!--End of Preloader-->

<div class="page-border" data-wow-duration="0.7s" data-wow-delay="0.2s">
    <div class="top-border wow fadeInDown animated" style="visibility: visible; animation-name: fadeInDown;"></div>
    <div class="right-border wow fadeInRight animated" style="visibility: visible; animation-name: fadeInRight;"></div>
    <div class="bottom-border wow fadeInUp animated" style="visibility: visible; animation-name: fadeInUp;"></div>
    <div class="left-border wow fadeInLeft animated" style="visibility: visible; animation-name: fadeInLeft;"></div>
</div>

<div id="wrapper">

    <header id="banner" class="scrollto clearfix" data-enllax-ratio=".5">
        <div id="header" class="nav-collapse">
            <div class="row clearfix">
                <div class="col-1">

                    <!--Logo-->
                    <div id="logo">

                        <!--Logo that is shown on the banner-->
                    <img src="{{ url_for('static', filename='images/logo.png') }}" id="banner-logo" alt="Landing Page"/>
                    <!--End of Banner Logo-->

                    <!--The Logo that is shown on the sticky Navigation Bar-->
                    <img src="{{ url_for('static', filename='images/logo-2.png') }}" id="navigation-logo" alt="Landing Page"/>
                    <!--End of Navigation Logo-->


                    </div>
                    <!--End of Logo-->

                    <aside>

                        <!--Social Icons in Header-->
                        <ul class="social-icons">
                            <li>
                                <a target="_blank" title="Facebook" href="https://www.facebook.com/username">
                                    <i class="fa fa-facebook fa-1x"></i><span>Facebook</span>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" title="Google+" href="http://google.com/+username">
                                    <i class="fa fa-google-plus fa-1x"></i><span>Google+</span>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" title="Twitter" href="http://www.twitter.com/username">
                                    <i class="fa fa-twitter fa-1x"></i><span>Twitter</span>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" title="Instagram" href="http://www.instagram.com/username">
                                    <i class="fa fa-instagram fa-1x"></i><span>Instagram</span>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" title="behance" href="http://www.behance.net">
                                    <i class="fa fa-behance fa-1x"></i><span>Behance</span>
                                </a>
                            </li>
                        </ul>
                        <!--End of Social Icons in Header-->

                    </aside>

                    <!--Main Navigation-->
                    <nav id="nav-main">

                        <ul>
                            <li>
                                <a href="/adminlogin">Admin</a>
                            </li>
                            <li>
                                <a href="#banner">Home</a>
                            </li>
                            <li>
                                <a href="#about">About</a>
                            </li>
                            <li>
                                <a href="#gallery">Gallery</a>
                            </li>
                            <li>
                                <a href="#services">Services</a>
                            </li>
                            <li>
                                <a href="#testimonials">Testimonials</a>
                            </li>
                            <li>
                                <a href="#clients">Clients</a>
                            </li>
                            <li>
                                <a href="#pricing">Pricing</a>
                            </li>
                        </ul>
                    </nav>
                    <!--End of Main Navigation-->

                    <div id="nav-trigger"><span></span></div>
                    <nav id="nav-mobile"></nav>




                </div>
            </div>

            <!-- Sticky Header Section -->
            <div id="sticky_header-sticky-wrapper" class="nav-collapse" >
                <div id="sticky_header" class="container clearfix">


                    <!-- Header Buttons -->
                    <div class="header-buttons">
                        <div id="cart-button" class="cart-icon" onclick="toggleCart()">
                            <div id="cart-count" class="cart-count-badge">0</div>
                            <svg class="icon-default" width="36" height="30" viewBox="0 0 36 30" xmlns="http://www.w3.org/2000/svg">
                                <g fill="none" fill-rule="evenodd">
                                    <path d="M7 7h22v18a4 4 0 0 1-4 4H11a4 4 0 0 1-4-4V7z" stroke="currentColor" stroke-width="2"></path>
                                    <path d="M13 10V6c0-2.993 2.009-5 5-5s5 2.026 5 5v4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                                    <circle class="cart-not-empty" cx="18" cy="18" r="4" fill="currentColor"></circle>
                                </g>
                            </svg>
                        </div>

                        <div id="about-button" class="about-icon" onclick="toggleAbout()">
                            <svg class="icon-default" width="36" height="30" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                                <path d="M4.99509 3C3.89262 3 3 3.89323 3 4.99509V19.0049C3 20.1074 3.89323 21 4.99509 21H19.0049C20.1074 21 21 20.1068 21 19.0049V4.99509C21 3.89262 20.1068 3 19.0049 3H4.99509ZM5 19V5H19V19H5ZM12 8C12.5523 8 13 8.44772 13 9C13 9.55228 12.5523 10 12 10C11.4477 10 11 9.55228 11 9C11 8.44772 11.4477 8 12 8ZM12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12ZM12 15C10.8954 15 10 15.8954 10 17H8C8 14.7909 9.79086 13 12 13C14.2091 13 16 14.7909 16 17H14C14 15.8954 13.1046 15 12 15Z"></path>
                            </svg>
                        </div>

                        <div id="orders-button" class="order-icon" onclick="toggleOrders()">
                            <svg class="icon-default" width="36" height="30" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 2C20.5523 2 21 2.44772 21 3V6.757L19 8.757V4H5V20H19V17.242L21 15.242V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20ZM21.7782 8.80761L23.1924 10.2218L15.4142 18L13.9979 17.9979L14 16.5858L21.7782 8.80761ZM13 12V14H8V12H13ZM16 8V10H8V8H16Z"></path></svg>
                        </div>
                        <div id="logout-button" class="logout-icon">
                            <a href="{{ url_for('logout') }}">
                                <svg class="icon-default" width="36" height="30" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="36" height="30" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M5 22C4.44772 22 4 21.5523 4 21V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V6H18V4H6V20H18V18H20V21C20 21.5523 19.5523 22 19 22H5ZM18 16V13H11V11H18V8L23 12L18 16Z"></path>
                                </svg>
                            </a>
                        </div>


                    </div>
                </div>
            </div>

        </div><!--End of Header-->



    </header>

    <main id="content">


           <!--products-->
        <section id="clients" class="scrollto clearfix">
            <div class="row clearfix">

                    <div class="section-heading">

                        <p class="section-subtitle" style="font-size: 20px; font-weight: Medium;"><span style="color: green; font-weight: bold;">Thank you</span> for deciding to go ahead for purchases.  Plants are shipped by <span style="color: green; font-weight: bold;">Priority/Air  by Economy means.</span></p>
                        <p class="section-subtitle" style="color: black;">Actual <span style="color: green; font-weight: bold;">Shipping</span> charges and options
                            will only be shown after you fill in your address and are on next page.
                            <span style="color: red; font-weight: bold;">FREE SHIPPING ON ORDERS ABOVE 1000/- (PLANTS ONLY )</span></p>
                    </div>

                <!-- Cart Modal (Hidden by Default) -->

                    <div id="cart-modal" class="modal" style="display: none;">
                        <h3>Your Cart</h3>
                        <div id="cart-list">
                            <!-- Cart items will be dynamically added here -->
                        </div>
                        <button onclick="toggleCart()">Close</button>
                        <button onclick="window.location.href='/checkout'">Buy Now</button>
                    </div>



                    <!-- About Modal -->
                    <div id="about-modal" class="modal" style="display: none;">
                        <h3>About User</h3>
                        <div id="user-details">
                            <!-- User details dynamically added here -->
                        </div>
                        <button onclick="toggleAbout()">Close</button>
                    </div>



                    <!-- Orders Modal -->
                    <div id="orders-modal" class="modal" style="display: none;">
                        <h3>My Orders</h3>
                        <div id="orders-list">
                            <!-- Order history dynamically added here -->
                        </div>
                        <button onclick="toggleOrders()">Close</button>
                    </div>

                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="text-right">
                                <i class="fa fa-close close" data-bs-dismiss="modal"></i>
                            </div>

                            <div class="px-4 py-5">
                                <h5 class="text-uppercase">CHECK OUT</h5>
                                <span class="theme-color">Summary</span>
                                <div class="mb-3">
                                    <hr class="new1">
                                </div>
                                {% for item in cart %}
                                <div class="d-flex justify-content-between mt-2">
                                    <span class="font-weight-bold">{{ item.name }} {{ item.id }} (Qty: {{ item.quantity }})</span>
                                    <span class="text-muted">${{ (item.price * item.quantity)|round(2) }}</span>
                                </div>
                                {% endfor %}

                                <hr>

                                <div class="d-flex justify-content-between mt-3">
                                    <span class="font-weight-bold">Total</span>
                                    <span class="font-weight-bold theme-color">${{ total_price|round(2) }}</span>
                                </div>

                                <div class="text-center mt-5">
                                    <button class="btn btn-primary" onclick="proceedToPayment()">Proceed</button>
                                </div>
                            </div>
                        </div>
                    </div>




                <!--start of Footer-->
                <footer id="landing-footer" class="clearfix">
                    <div class="border"></div>
                        <div class="footer">
                            <div class="f1">
                                <div class="section-heading">

                                        <h2 class="section-title">Shop Name</h2>
                                        <p class="section-subtitle">Welcome to Plantae Paradise, your premier
                                            destination for a unique and diverse collection of plants! Specializing
                                            in Cacti, Succulents, Carnivorous plants, and an array of rare, collectible
                                            flora, we offer an extraordinary experience for plant enthusiasts.
                                            Nestled in the serene plains at the foothills, our nursery is surrounded
                                            by lush greenery, providing a tranquil escape from the urban hustle.
                                            We invite you to explore the wonders of nature at Plantae Paradise –
                                            a refreshing retreat for all plant lovers. Join us in this green haven and discover the perfect plant to add to your collection!</p>
                                    </div>
                            </div>

                            <div class="f2">

                                <div class="section-heading">
                                    <h2 class="section-title">Quick Links</h2>
                                    <aside id="block-47" class="widget widget_block">
                                        <ul class="quick-links">
                                            <li style="text-align: left;"><a href="https://www.plantaeparadise.com/awesome-friendly-and-fulfilling-rewards-program/">Rewards</a></li>
                                            <li><a href="https://www.plantaeparadise.com/how-to-grow-cactus-seeds/">How to grow Cactus Seeds?</a></li>
                                            <li><a href="https://www.plantaeparadise.com/in-quest-of-best-cactus-media/">Are You in Search of Best Cactus Media?</a></li>
                                            <li><a href="https://www.plantaeparadise.com/hakuna-matata//">Why Cactus melt away and leave you in Tears!</a></li>
                                            <li><a href="https://www.plantaeparadise.com/kya-yeh-plant-chalega-will-this-plant-do-well-at-my-location/">Kya Yeh Plant Chalega?</a></li>
                                            <li><a href="https://www.plantaeparadise.com/refund-policy/">Terms</a></li>
                                            <li><a href="https://www.plantaeparadise.com/refund-policy/">Privacy Policy</a></li>
                                        </ul>
                                    </aside>


                                </div>


                            </div>

                            <div class="f3">
                                <div class="section-heading">

                                        <h2 class="section-title">Contact Us</h2>

                                        <p class="section-subtitle"><strong>Phone: </strong>+918054477046<br>
                                            <strong>Email: </strong>custsp@plantaeparadise.com<br>
                                            <strong>Address:</strong> howrahIndia</p>
                                    </div>
                            </div>




                            <!--End of Social Icons in Footer-->
                        </div>

                    <div class="copyright"><p id="copyright">Made with love by ShapingRain</p>
                    </div>
                </footer>
                     <!--End of Footer-->





            </div>



        </section>



    </main>
</div>

<style>
    #landing-footer, #landing-footer p, #landing-footer a {
    font-family: 'Open Sans', sans-serif, Arial, Helvetica;
    font-size: 12px;
    font-weight: normal;

    color: black;
}

.section-heading {
    padding: 1px 1px 1px 0;
}

.section-title {
    font-family: 'Open Sans', sans-serif, Arial, Helvetica;
    font-size: 30px;
    font-weight: 700;
    color: gray;
}


@media (max-width: 468px){
    .footer {

        background-color:white !important;
    }
    .border {
            width: 90%;
            }
 }
</style>


<!-- Include JavaScript resources -->
<script src="{{ url_for('static', filename='js/jquery.1.8.3.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/wow.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/featherlight.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/featherlight.gallery.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.enllax.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.scrollUp.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.easing.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.stickyNavbar.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.waypoints.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/images-loaded.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/lightbox.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/site.js') }}"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="{{ url_for('static', filename='js/product.js') }}"></script>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js" defer></script>


<script>


        function proceedToPayment() {
            window.location.href = '/shipping';  // Redirect to a payment page
        }
</script>


<script>

</script>
    <script>
        // Toggle Cart Modal visibility and refresh cart data
        function toggleCart() {
            const cartModal = document.getElementById('cart-modal');
            cartModal.style.display = (cartModal.style.display === 'none') ? 'block' : 'none';

            // If the cart modal is being opened, refresh the cart
            if (cartModal.style.display === 'block') {
                refreshCart();
            }
        }

        // Refresh the cart data by fetching from the server
        function refreshCart() {

            // Fetch the updated cart data from the server
            fetch(`/get_cart`)
                .then(response => response.json())
                .then(data => {
                    const cartList = document.getElementById('cart-list');
                    cartList.innerHTML = '';  // Clear existing cart

                    let totalPrice = 0;  // Variable to calculate total price

                    if (data.cart.length > 0) {
                        let ul = document.createElement('ul');
                        data.cart.forEach(item => {
                            let li = document.createElement('li');
                            const totalItemPrice = (item.price * item.quantity).toFixed(2);  // Calculate total price

                            // ✅ Create Cart Item Container
                            li.innerHTML = `
                                <div class="cart-item">
                                    <!-- Product Image -->
                                    <img src="/${item.image}" alt="${item.name}" class="cart-item-img"/>

                                    <div class="cart-item-details">

                                        <p><strong>${item.name}</strong></p>
                                        <p>${item.id}</p>
                                        <p>Quantity: ${item.quantity}</p>
                                        <p>Total Price: $${totalItemPrice}</p>
                                    </div>
                                </div>
                            `;

                                // ✅ Create a container for the buttons
                                const buttonContainer = document.createElement('div');
                                buttonContainer.className = 'cart-buttons';  // Add a class for styling
                            // ✅ Add Reduce Button
                            const reduceButton = document.createElement('button');
                            reduceButton.textContent = 'Reduce';
                            reduceButton.onclick = () => reduceItem(item.productId);
                            buttonContainer.appendChild(reduceButton);

                            // ✅ Add Add Button
                            const addButton = document.createElement('button');
                            addButton.textContent = 'Add';
                            addButton.onclick = () => addItem(item.productId);
                            buttonContainer.appendChild(addButton);

                            // ✅ Add Remove Button
                            const removeButton = document.createElement('button');
                            removeButton.textContent = 'Remove';
                            removeButton.onclick = () => removeItem(item.productId);
                            buttonContainer.appendChild(removeButton);

                            // ✅ Append button container to list item
                            li.appendChild(buttonContainer);

                            ul.appendChild(li);
                            totalPrice += parseFloat(totalItemPrice); // Add item price to total price
                        });
                        cartList.appendChild(ul);

                        // ✅ Display the total price
                        const totalElement = document.createElement('p');
                        totalElement.textContent = `Total Price: $${totalPrice.toFixed(2)}`;
                        cartList.appendChild(totalElement);
                    } else {
                        cartList.innerHTML = '<p>Your cart is empty!</p>';
                    }
                })
                .catch(error => {
                    console.error('Error fetching cart:', error);
                    alert('An error occurred while refreshing the cart.');
                });
        }


        // Reduce item quantity in the cart
        function reduceItem(productId) {
            const data = {
                productId: productId

            };

            fetch('/reduce_from_cart', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Product quantity reduced!');
                    location.reload();
                } else {
                    alert('Failed to reduce product: ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while reducing the product quantity.');
            });
        }

        // Add item quantity in the cart
        function addItem(productId) {
            const data = {
                productId: productId

            };

            fetch('/add_to_cart', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Product quantity added!');
                    location.reload();
                } else {
                    alert('Failed to add product: ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while adding the product quantity.');
            });
        }

        // Remove item from the cart
        function removeItem(productId) {
            const data = {
                productId: productId

            };

            fetch('/remove_from_cart', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Product removed from cart!');
                    location.reload();   // Refresh the cart after removing the item
                } else {
                    alert('Failed to remove product: ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while removing the product.');
            });
        }


        // Toggle About Modal visibility and fetch user details
function toggleAbout() {
    const aboutModal = document.getElementById('about-modal');
    aboutModal.style.display = (aboutModal.style.display === 'none') ? 'block' : 'none';

    // If modal is being opened, fetch user details
    if (aboutModal.style.display === 'block') {
        fetchUserDetails();
    }
}

// Fetch user details from the server
function fetchUserDetails() {
    const phone = '{{ phone }}';  // Get phone from session

    fetch(`/get_user_details`)
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const userDetails = `
                    <p><strong>Full Name:</strong> ${data.user.fullname}</p>
                    <p><strong>Phone:</strong> ${data.user.phone}</p>
                `;
                document.getElementById('user-details').innerHTML = userDetails;
            } else {
                document.getElementById('user-details').innerHTML = '<p>Error fetching user details!</p>';
            }
        })
        .catch(error => {
            console.error('Error fetching user details:', error);
            document.getElementById('user-details').innerHTML = '<p>An error occurred while fetching user details.</p>';
        });
}

// Toggle Orders Modal visibility and fetch order history
function toggleOrders() {
    const ordersModal = document.getElementById('orders-modal');
    ordersModal.style.display = (ordersModal.style.display === 'none') ? 'block' : 'none';

    // If modal is being opened, fetch order history
    if (ordersModal.style.display === 'block') {
        fetchOrderHistory();
    }
}

function fetchOrderHistory() {
    fetch(`/get_order_history`)
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                let orderList = '<ul>';
                data.orders.forEach(order => {
                    console.log('Raw Order Date:', order.order_date); // Debug Date

                  orderList += `
                        <div class="order-item">
                            <div class="order-header">
                                <strong>Order Date:</strong> ${formatDate(order.order_date)}<br>
                                <strong>Delhivery_status:</strong> ${order.delhivery_status}<br>
                                <strong>Payment_status:</strong> ${order.payment_status}<br>
                                <strong>Total Price:</strong> $${order.total_price.toFixed(2)}<br>
                            </div>

                            <div class="order-items-container">
                                ${order.items.map(item => `
                                    <div class="order-item-details">
                                        <img src="${item.image}"
                                            alt="${item.name}" class="product-image">
                                        <div class="item-info">
                                            <strong>${item.name}</strong><br>
                                            Id:${item.id}<br>
                                            Quantity: ${item.quantity}<br>
                                            Price: $${item.price.toFixed(2)}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                });
                orderList += '</div>';
                document.getElementById('orders-list').innerHTML = orderList;
            } else {
                document.getElementById('orders-list').innerHTML = '<p>No order history found!</p>';
            }
        })
        .catch(error => {
            console.error('Error fetching order history:', error);
            document.getElementById('orders-list').innerHTML = '<p>An error occurred while fetching order history.</p>';
        });
}



function formatDate(dateString) {
    if (!dateString) return 'N/A';

    // Check if it's in BSON format
    if (typeof dateString === 'object' && dateString.$date) {
        dateString = dateString.$date;  // Extract the ISO date string
    }

    const date = new Date(dateString);
    if (isNaN(date.getTime())) {
        return 'Invalid Date';  // Return Invalid Date if parsing fails
    }

    return date.toLocaleString('en-US', {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
    });
}



    </script>






</body>
</html>